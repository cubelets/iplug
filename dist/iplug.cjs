"use strict";module.exports=function(e){const t=new Map(Object.entries(e||{}).map((([e,t])=>[e,"function"==typeof t?t():t])));return{init:function(e,n){const r=new Map([].concat(e||[...t.keys()]).map((e=>Array.isArray(e)?e:[e,[]])).reduce(((e,[r,c])=>Object.entries(t.get(r)||{[r]:()=>{throw new Error(`plugin ${r} is missing`)}}).map((([e,t])=>t&&[e,t({...c,...n})])).filter((e=>e)).reduce(((e,[t,n])=>(e.set(t,[].concat(e.get(t)||[],n||[])),e)),e)),new Map)),c=(e,t)=>(r.get(e)||[e=>e]).reduce(((e,t)=>t(e)),t);return c.reduce=c.chain=c.series=c,c.map=c.parallel=c.all=(e,t)=>(r.get(e)||[]).map((function(e){return e(t)})),c}}};
//# sourceMappingURL=iplug.cjs.map
